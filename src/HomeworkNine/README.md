# Микросервисы (ссылка на диаграмму https://app.diagrams.net/index.html#G1aFTZEVtwj8E5spnifm_bLcmmNKdRAAz6):
1. Tanki.ru (Gateway) - входная точка взаимодействия с игроками. Выполняет маршрутизацию на все остальные микросервисы в зависимости от полученного запроса с браузера.
2. Auth (Авторизация) - микросервис для регистрации и выдачи токена. Возможные Endpoints: <ul><li>POST /reg - Регистрация</li> <li>POST /login - Получение токена</li><li>POST /logout - Выход из системы</li></ul>
3. Fights (Танковые бои) - микросервис, который отвечает за информацию о текущих танковых боях. Возможные Endpoints: <ul> <li>GET /fights/{id} - Просмотр заданного боя</li> <li>GET /fights - Просмотр списка боев</li> <li>POST /fights - Создание боя</li> <li>PUT /fights/{id} - Редактирование боя</li></ul>
4. FightsTournaments (Турниры боев) - микросервис, который отвечает за организацию и проведение турниров. Возможные Endpoints: <ul> <li>GET /fightsTournaments/{id} - Просмотр заданного турнира</li> <li>GET /fightsTournaments - Просмотр списка турниров</li> <li>POST /fightsTournaments - Создание турнира</li> <li>PUT /fightsTournaments/{id} - Редактирование турнира</li></ul>
5. FightsStatistics (Турниры боев) - микросервис, который отвечает за статистику боев. Возможные Endpoints: <ul> <li>GET /fightsStatistic/{id} - Просмотр статистики по заданному бою</li></ul>
6. OldFights (Завершенные бои) - микросервис, который отвечает за информацию о завершенных боях. Возможные Endpoints: <ul> <li>GET /oldFights/{id} - Просмотр информации по заданному завершенному бою/li></ul>
7. FightsAchievements (Достижения боев) - микросервис, который отвечает за информацию о достижении боев. Возможные Endpoints: <ul> <li>GET /fightsAchievements/{id} - Просмотр достижений по заданному бою/li></ul>
8. Notifications (Уведомления) - микросервис, который отвечает за уведомления игрокам. Возможные Endpoints: <ul> <li>GET /notifications - Просмотр уведомлений/li><li>POST /notifications - Создание уведомления/li></ul>

# Узкие места
1. Tanki.ru (Gateway) - одна точка вход с общением с клиентом. Необходимо увеличить количество экземпляров для повышения отказоустойчивости.
2. Auth (Авторизация) - увеличить количество экземпляров, применить кэширование, использовать оптимальный срок жизни токена.
3. Fights - должен выдерживать не только большие нагрузки, но и отвечать свойству архитектуры - Адаптируемость, а именно быть готовым к повышению запросов к базе данных в любое время суток.
4. OldFights - данные должны лежать в базе данных, которая предназначена для работы с OLAP запросами, иначе игроки не смогут получать быстрое или своевременно нужную информацию.

# Часто меняющиеся компоненты:
1. Чаще всего будут меняться 2 микросервиса это Fights (Танковые бои) и FightsTournaments (Турниры боев). Для данных микросервисов необходимо кропотливо продумать архитектуру, чтобы обязательно соблюдался принцип OCP (открытости замкнутости). Настройки системы выносить в интерфейс, чтобы их можно было легко администрировать. Все реализации подменять интерфейсами, чтобы в любой момент можно было отказаться от того или иного кода.

# Схема
![FightMicroservices.png](https://github.com/Sapronovps/OtusHomework/blob/main/src/HomeworkNine/FightMicroservices.png)
